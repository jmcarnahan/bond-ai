========================================
Bond AI VPC Availability Test
========================================

Testing VPC: tfvpc-us-west-dev-2 (vpc-08acfe7cf84c026c7)
VPC CIDR: 10.6.28.0/23
AWS Account: 767397995923
AWS Region: us-west-2

----------------------------------------

1. VPC Accessibility Tests
----------------------------------------
✓ VPC vpc-08acfe7cf84c026c7 is accessible
   - State: available
   - CIDR: 10.6.28.0/23
   - DNS Support: true
   - DNS Hostnames: true
✓ VPC is in available state

2. Subnet Tests
----------------------------------------
✓ Found 10 subnets in VPC
✓ Sufficient subnets for RDS (need at least 2)
   - subnet-08997a58c3a22aad2: AZ=us-west-2a, CIDR=10.6.29.96/28, State=available, PublicIP=false
   - subnet-018084036d2aa635d: AZ=us-west-2b, CIDR=10.6.29.112/28, State=available, PublicIP=false
   - subnet-0374d7b91b2054239: AZ=us-west-2a, CIDR=10.6.28.0/25, State=available, PublicIP=false
   - subnet-0584def4d6ffbe9a5: AZ=us-west-2b, CIDR=10.6.29.80/28, State=available, PublicIP=false
   - subnet-014b5d076741106ff: AZ=us-west-2a, CIDR=10.6.29.64/28, State=available, PublicIP=false
   - subnet-0b8e4e5c74e60d524: AZ=us-west-2a, CIDR=10.6.29.0/27, State=available, PublicIP=false
   - subnet-0dfffe14f39009eeb: AZ=us-west-2b, CIDR=10.6.29.144/28, State=available, PublicIP=false
   - subnet-0917dfc1af7e6f812: AZ=us-west-2a, CIDR=10.6.29.128/28, State=available, PublicIP=false
   - subnet-050691e25d4a7681e: AZ=us-west-2b, CIDR=10.6.28.128/25, State=available, PublicIP=false
   - subnet-02085799b52b1e750: AZ=us-west-2b, CIDR=10.6.29.32/27, State=available, PublicIP=false
   - Private subnets: 10 (recommended for App Runner)
   - Public subnets: 0
✓ Private subnets available (App Runner best practice)
✓ Subnets span        2 availability zones (good for RDS)

3. Internet Gateway Tests
----------------------------------------
✓ Internet Gateway found: igw-02af52d7523773891

4. NAT Gateway Tests
----------------------------------------
✓ Found 2 NAT Gateway(s)
   - nat-0e464f25f2451002c
   - nat-0b486ae92082ef754

5. Security Group Permission Tests
----------------------------------------
✓ Can create security groups in VPC (ID: sg-0d453431fd9c4b08a)
✓ Can add security group rules

6. RDS Subnet Group Tests
----------------------------------------
✓ Can create RDS subnet groups

7. Route Table Tests
----------------------------------------
✓ Found 6 route table(s) in VPC
   - rtb-02690a07c57254a9f
   - rtb-06bddb1deb103ed2f
   - rtb-0b2b478753603037b
   - rtb-04dadabfd6cbede09
   - rtb-02f6af532c2d2f9fe
   - rtb-03dfd8d37cf55f279

8. App Runner VPC Connector Tests
----------------------------------------
✓ App Runner VPC connector API is accessible
⚠  Cannot test VPC connector creation without creating actual resources

9. Existing Resources Check
----------------------------------------
✓ No existing RDS instances in VPC (clean slate)
   Found 1 non-default security group(s) in VPC
   - sg-0c61e818b7c2e9ce8: r53_endpoints_interface_endpoints_sg

10. VPC Endpoint Tests
----------------------------------------
✓ Found 9 existing VPC endpoint(s)
   - vpce-0d5abf96cbe44cae6: com.amazonaws.us-west-2.s3
   - vpce-0c903d0e100d98851: com.amazonaws.us-west-2.ec2
   - vpce-0260579bb826bcbd5: com.amazonaws.us-west-2.cloudtrail
   - vpce-0911874e476e0b6a5: com.amazonaws.us-west-2.ec2messages
   - vpce-0035e728ae1c869fd: com.amazonaws.us-west-2.ssm
   - vpce-0f37b5be8cb0ba1bc: com.amazonaws.us-west-2.s3
   - vpce-06a50e9db2285ad54: com.amazonaws.us-west-2.logs
   - vpce-025c241267ac29189: com.amazonaws.us-west-2.ssmmessages
   - vpce-0beb82f2130132113: com.amazonaws.us-west-2.kms

========================================
Test Summary
========================================

Tests Passed: 15
Tests Failed: 0
Warnings: 1

Deployment Recommendation:
----------------------------------------
✓ VPC is SUITABLE for Bond AI deployment

This VPC can be used with the following Terraform configuration:

  data "aws_vpc" "existing" {
    id = "vpc-08acfe7cf84c026c7"
  }

  data "aws_subnets" "existing" {
    filter {
      name   = "vpc-id"
      values = [data.aws_vpc.existing.id]
    }
  }

Next steps:
1. Update terraform configuration to use this existing VPC
2. Configure RDS to use subnets from this VPC
3. Create security groups in this VPC
4. Configure App Runner VPC connector to use this VPC

Report generated: Fri Sep  5 09:57:25 PDT 2025
VPC tested: tfvpc-us-west-dev-2 (vpc-08acfe7cf84c026c7) in region us-west-2
